"use strict";(self.webpackChunke_commerce_client=self.webpackChunke_commerce_client||[]).push([[173],{6173:(S,g,r)=>{r.r(g),r.d(g,{ProductModule:()=>J});var p=r(9808),l=r(1056),m=r(5861),t=r(5e3),Z=r(392),y=r(1238),d=r(7093),f=r(7423),h=r(5245),u=r(9224);const x=function(){return["/product/details"]};function I(n,c){1&n&&(t.TgZ(0,"button",4)(1,"mat-icon"),t._uU(2,"add"),t.qZA()()),2&n&&t.Q6J("routerLink",t.DdM(1,x))}const T=function(n){return["/product/details",n]};function C(n,c){if(1&n&&(t.TgZ(0,"button",10),t._uU(1,"EDITAR"),t.qZA()),2&n){const o=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,T,o.id))}}function P(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().$implicit;return t.oxw().delete(s)}),t._uU(1,"ELIMINAR"),t.qZA()}}function _(n,c){if(1&n&&(t.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA()(),t._UZ(6,"img",6),t.TgZ(7,"mat-card-content")(8,"div",7),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-actions"),t.YNc(11,C,2,3,"button",8),t.YNc(12,P,2,0,"button",9),t.qZA()()),2&n){const o=c.$implicit,e=t.oxw();let s;t.xp6(3),t.AsE("",o.title," - ",o.code,""),t.xp6(2),t.AsE("",o.price," - (",o.stock,")"),t.xp6(1),t.Q6J("src",null!==(s=o.thumbnail)&&void 0!==s?s:"https://www.freeiconspng.com/thumbs/no-image-icon/no-image-icon-6.png",t.LSH),t.xp6(3),t.hij(" ",o.description," "),t.xp6(2),t.Q6J("ngIf",e.isAdmin),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}let U=(()=>{class n{constructor(o,e){this.productsService=o,this.sessionService=e,this.products=[]}get isAdmin(){return this.sessionService.isAdmin()}ngOnInit(){var o=this;return(0,m.Z)(function*(){o.products=yield o.productsService.getAll()})()}delete(o){var e=this;return(0,m.Z)(function*(){yield e.productsService.delete(o.id),e.products=yield e.productsService.getAll()})()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(Z.s),t.Y36(y.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-products-list"]],decls:7,vars:2,consts:[["fxLayout","row"],["mat-mini-fab","",3,"routerLink",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center center"],["class","product-card",4,"ngFor","ngForOf"],["mat-mini-fab","",3,"routerLink"],[1,"product-card"],["mat-card-image","",1,"product-card-image",3,"src"],[1,"product-card-content"],["mat-button","",3,"routerLink",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"routerLink"],["mat-button","",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2," Productos "),t.qZA(),t.YNc(3,I,3,2,"button",1),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",2),t.YNc(6,_,13,8,"mat-card",3),t.qZA()),2&o&&(t.xp6(3),t.Q6J("ngIf",e.isAdmin),t.xp6(3),t.Q6J("ngForOf",e.products))},directives:[d.xw,p.O5,f.lW,l.rH,h.Hw,d.Wh,p.sg,u.a8,u.dk,u.n5,u.$j,u.G2,u.dn,u.hq],styles:[""]}),n})();var i=r(3075),v=r(1259),b=r(7531);let A=(()=>{class n{constructor(o,e){this.productsService=o,this.route=e,this.form=new i.cw({id:new i.NI,title:new i.NI,description:new i.NI,code:new i.NI,thumbnail:new i.NI,price:new i.NI,stock:new i.NI})}ngOnInit(){var o=this;this.sub=this.route.params.subscribe(function(){var e=(0,m.Z)(function*(s){if(o.id=s.id,o.id){const a=yield o.productsService.get(o.id);o.form.patchValue({id:a.id,title:a.title,description:a.description,code:a.code,thumbnail:a.thumbnail,price:a.price,stock:a.stock})}});return function(s){return e.apply(this,arguments)}}())}ngOnDestroy(){this.sub.unsubscribe()}save(){var o=this;return(0,m.Z)(function*(){o.id?yield o.productsService.update(o.form.value):yield o.productsService.create(o.form.value),history.back()})()}cancel(){history.back()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(Z.s),t.Y36(l.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-details"]],decls:35,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"details-panel-base"],["fxFlex","0 1 500px",3,"formGroup","ngSubmit"],["fxLayout","column"],["type","text","formControlName","title","matInput",""],["type","text","formControlName","description","matInput",""],["type","text","formControlName","code","matInput",""],["type","text","formControlName","thumbnail","matInput",""],["type","number","formControlName","price","matInput",""],["type","number","formControlName","stock","matInput",""],["type","submit","color","primary","mat-raised-button",""],["type","button","color","warn","mat-button","",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return e.save()}),t.TgZ(2,"mat-card",2)(3,"mat-card-title")(4,"h1"),t._uU(5,"Producto"),t.qZA()(),t.TgZ(6,"mat-form-field")(7,"mat-label"),t._uU(8,"Ingrese el t\xedtulo"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Ingrese la descripci\xf3n"),t.qZA(),t._UZ(13,"input",4),t.qZA(),t.TgZ(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Ingrese el c\xf3digo"),t.qZA(),t._UZ(17,"input",5),t.qZA(),t.TgZ(18,"mat-form-field")(19,"mat-label"),t._uU(20,"Ingrese una imagen (link)"),t.qZA(),t._UZ(21,"input",6),t.qZA(),t.TgZ(22,"mat-form-field")(23,"mat-label"),t._uU(24,"Ingrese el precio"),t.qZA(),t._UZ(25,"input",7),t.qZA(),t.TgZ(26,"mat-form-field")(27,"mat-label"),t._uU(28,"Ingrese el stock"),t.qZA(),t._UZ(29,"input",8),t.qZA(),t.TgZ(30,"mat-card-actions")(31,"button",9),t._uU(32,"Guardar"),t.qZA(),t.TgZ(33,"button",10),t.NdJ("click",function(){return e.cancel()}),t._uU(34,"Cancelar"),t.qZA()()()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",e.form))},directives:[d.xw,d.Wh,i._Y,i.JL,d.yH,i.sg,u.a8,u.n5,v.KE,v.hX,i.Fj,b.Nt,i.JJ,i.u,i.wV,u.hq,f.lW],styles:[".details-panel-base[_ngcontent-%COMP%]{height:80%}"]}),n})();const L=[{path:"list",component:U},{path:"details/:id",component:A},{path:"details",component:A}];let N=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(L)],l.Bz]}),n})();var w=r(9764);let J=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,N,u.QW,i.UX,b.c,h.Ps,f.ot,u.QW,w.o9]]}),n})()}}]);